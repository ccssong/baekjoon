#include <iostream>
#include <vector>
#include <stdio.h>
#include <cstdlib>

using namespace std;
int N;
vector<long long> result;

void find(vector<long long> a){
    if(a.size() == 1){
        printf("a size is 1\n");
        //result.push_back(a[0]);
        int temp;
        cin >> temp;
        return;
    }
    vector<long long> d(a.size());
    long long sum=0;
    for(int i=0; i<a.size(); i++){
        sum += a[i];
    }
    printf("sum: %lld\n",sum);
    result.push_back(sum);
    
    long long l = 0, min = 10000, mini = 0;
    for(int i=0; i<a.size(); i++){
        l += a[i];
        long long r = sum - l;
        long long difference = abs(l - r);
        d[i] = difference;
        if(d[i] < min){
            min = d[i];
            mini = i;
            printf("min: %lld, mini:%d\n", difference, i);
        }
        else if(d[i] == min){
            
        }
    }
    printf("---i: %lld\n",mini);
    vector<long long> left(a.begin(), a.begin()+mini+1);
    vector<long long> right(a.begin()+mini+1, a.end());

    for(int i=0; i<left.size(); i++)
        printf("%lld ",left[i]);
    cout << endl;
    for(int i=0; i<right.size(); i++)
        printf("%lld ",right[i]);
    cout << endl;
    find(left);
    find(right);
}

int main(){
    cin >> N;
    vector<long long> a(N);

    for(int i=0; i<N; i++){
        cin >> a[i];
    }      
    
    find(a);
    int sum=0;
    for(int i=0; i<result.size(); i++){
        printf("%lld ",result[i]);
        sum += result[i];
    }
    cout << endl << sum << endl;
    
    return 0;
}

/*
4 3 4 4 2

12
1 20 35 5 4 3 5 92 23 14 32 18

5
4 1000 2 8 7

4
3 4 2 5

3 10 11 12

10 1 2 3 4 5 6 7 8 9 10

500
6807 5249 73 3658 8930 1272 7544 878 7923 7709 4440 8165 4492 3042 7987 2503 2327 1729 8840 2612 4303 3169 7709 7157 9560 933 3099 278 1816 5335 9097 7826 3512 9267 3810 7633 979 9149 6579 8821 1967 672 1393 9336 5485 1745 5228 4091 194 6357 5001 1153 6708 7944 5668 1490 8124 2196 9530 903 7722 4666 8549 8024 7801 6853 977 7408 8228 4933 298 8981 8635 8013 3865 9814 9063 4536 9425 1669 4115 94 5629 6501 6517 4195 105 404 9451 4298 2188 1123 9505 6882 6752 1566 6716 337 4438 3144 1501 4897 3871 5828 1137 9358 3177 2397 2294 7904 1609 6231 9745 4175 3635 6298 8142 399 7968 412 260 3557 1594 8008 6395 5968 9113 4530 1006 962 7942 5365 2082 9852 767 3821 5695 4712 3671 9901 8590 4831 4738 3057 1616 9790 5640 679 7335 7006 7972 6098 9095 5319 3454 5223 2289 6760 8905 6126 6123 9506 5813 6770 5238 9094 6220 7844 2366 534 5226 5394 1363 8738 7844 9590 6550 5159 8623 4947 7385 7217 5272 5539 9247 2385 3496 4885 623 2420 8144 1968 5735 9915 1625 3534 6042 6011 4679 4152 5244 7295 8818 396 7692 1815 2991 33 2669 9397 9553 547 5825 1210 9662 211 3808 3377 2761 625 7335 1868 7995 2776 2767 7439 9874 9331 556 6301 8872 560 94 8984 3755 9789 1407 8015 193 2769 5680 3455 6855 7506 963 3502 6676 3108 3249 2331 7844 7638 808 9997 8651 4849 5203 5731 6531 8014 5419 6775 2009 180 7929 5223 4054 8260 6737 1545 7317 7525 4200 4256 1564 597 6648 7704 5550 5150 1976 1412 8554 2797 2504 8381 4748 7065 9378 7699 8209 5129 8553 5483 447 4607 773 5322 4305 5176 53 7224 4630 366 5400 444 5370 285 3016 3898 8155 1133 5557 6576 3178 8266 7357 1711 7878 614 4819 5737 3133 591 3720 8762 6633 6197 6031 8588 589 4873 8877 7304 9358 1200 7254 8960 4915 3947 5480 7730 9955 4546 7107 1238 0 4926 5035 4857 1113 114 9593 1360 8354 8418 5357 2585 3729 1015 6563 6102 917 6643 9419 2967 7747 5269 5395 3303 4473 9103 1748 4385 5658 3459 5406 3930 9824 5132 973 9603 6897 7920 3950 5231 8480 203 3900 4520 2533 1258 7003 8676 950 3934 8780 9879 1832 2574 3549 4542 6249 2771 6310 5879 983 9970 2040 2723 3650 2971 3229 318 7746 299 7230 5621 776 124 8244 6958 7696 6771 9064 1560 6598 8751 9940 4503 9551 2801 7205 5080 418 9274 9649 413 3320 9025 2012 1783 4788 4117 4008 1550 5324 9195 1257 4511 5690 8666 2410 593 553 9565 960 8742 1403 4352 7307 6141 4910 3200 2799 3127 171 7787 4414 1625 6641 9517 5348 1842 4315 5974 1445 1373 2220 9911 9239 5054 1305 6929 2253 4189 5166 4356 9304 9860 5898 5592 1720 6116 1580 8867 9352 6939 8698 4901
*/  